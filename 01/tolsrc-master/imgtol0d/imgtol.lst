     1 00000000                                 [FORMAT "BIN"  ]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6                                          [SECTION .text]
     7 00000000                                 main:
     8                                          ORG 0x100
     9 00000100                                 [BITS 16]
    10 00000100 BE 0081                         			mov	SI,0081H
    11 00000103 FC                              			CLD	
    12 00000104 AC                              			LODSB	
    13 00000105 E8 077B                         			call	near     skipspace
    14 00000108 3C 72                           			cmp	AL,72H
    15 0000010A 74 3A                           			je	.cmd_read
    16 0000010C 3C 77                           			cmp	AL,77H
    17 0000010E 0F 84 00B4                      			je	.cmd_write
    18 00000112 3C 65                           			cmp	AL,65H
    19 00000114 0F 84 0127                      			je	.cmd_expand
    20 00000118 3C 63                           			cmp	AL,63H
    21 0000011A 0F 84 0119                      			je	.cmd_ovrcopy
    22 0000011E 3C 73                           			cmp	AL,73H
    23 00000120 0F 84 0203                      			je	.cmd_exe2sys
    24 00000124 3C 66                           			cmp	AL,66H
    25 00000126 0F 84 06A3                      			je	.cmd_fake
    26 0000012A 3C 46                           			cmp	AL,46H
    27 0000012C 0F 84 0665                      			je	.cmd_format
    28 00000130 3C 52                           			cmp	AL,52H
    29 00000132 0F 84 02E4                      			je	.cmd_release
    30 00000136 BE 0B76                         MOV SI,dat.usage
    31 00000139                                 .msgout:			
    32 00000139 AC                              			LODSB	
    33 0000013A 50                              			PUSH	AX
    34 0000013B 89 F2                           			mov	DX,SI
    35 0000013D B4 09                           			mov	AH,09H
    36 0000013F CD 21                           			INT	21H
    37 00000141 58                              			POP	AX
    38 00000142 B4 4C                           			mov	AH,4cH
    39 00000144 CD 21                           			INT	21H
    40 00000146                                 .cmd_read:			
    41 00000146 E8 06CD                         			call	near     get_param0
    42 00000149 0F 84 0723                      JZ get_param0.err
    43 0000014D E8 076C                         			call	near     fix_seclen
    44 00000150 BA EC00                         			mov	DX,0ec00H
    45 00000153 31 C9                           			xor	CX,CX
    46 00000155 B4 3C                           			mov	AH,3cH
    47 00000157 CD 21                           			INT	21H
    48 00000159 72 5F                           			jc	.file_err
    49 0000015B A3 EFFE                         			mov	DS:[0effeH],AX
    50 0000015E 31 D2                           			xor	DX,DX
    51 00000160                                 .LL0000:			
    52 00000160 52                              			PUSH	DX
    53 00000161 31 D2                           			xor	DX,DX
    54 00000163 8B 0E 0DD8                      MOV CX,[dat.size]
    55 00000167 A1 0DDA                         MOV AX,[dat.clulen]
    56 0000016A 81 F9 0080                      			cmp	CX,80H
    57 0000016E 73 09                           			jae	.LL0002
    58 00000170 C1 E1 09                        			shl	CX,9
    59 00000173 39 C8                           			cmp	AX,CX
    60 00000175 72 02                           			jb	.LL0004
    61 00000177 89 C8                           			mov	AX,CX
    62 00000179                                 .LL0004:			
    63 00000179                                 .LL0002:			
    64 00000179 F7 36 0DDC                      DIV WORD [dat.seclen]
    65 0000017D 5A                              			POP	DX
    66 0000017E BB 4000                         			mov	BX,4000H
    67 00000181 89 C1                           			mov	CX,AX
    68 00000183 A0 E000                         			mov	AL,DS:[0e000H]
    69 00000186 52                              			PUSH	DX
    70 00000187 51                              			PUSH	CX
    71 00000188 CD 25                           			INT	25H
    72 0000018A 58                              			POP	AX
    73 0000018B 58                              			POP	AX
    74 0000018C 5A                              			POP	DX
    75 0000018D 72 31                           			jc	.drive_err
    76 0000018F 01 C2                           			add	DX,AX
    77 00000191 52                              			PUSH	DX
    78 00000192 F7 26 0DDC                      MUL WORD [dat.seclen]
    79 00000196 89 C1                           			mov	CX,AX
    80 00000198 B4 40                           			mov	AH,40H
    81 0000019A 8B 1E EFFE                      			mov	BX,DS:[0effeH]
    82 0000019E BA 4000                         			mov	DX,4000H
    83 000001A1 51                              			PUSH	CX
    84 000001A2 CD 21                           			INT	21H
    85 000001A4 59                              			POP	CX
    86 000001A5 5A                              			POP	DX
    87 000001A6 72 12                           			jc	.file_err
    88 000001A8 39 C8                           			cmp	AX,CX
    89 000001AA 75 0E                           			jne	.file_err
    90 000001AC C1 E8 09                        			shr	AX,9
    91 000001AF 29 06 0DD8                      SUB [dat.size],AX
    92 000001B3 77 AB                           			ja	.LL0000
    93 000001B5                                 .LL0001:			
    94 000001B5 B8 4C00                         			mov	AX,4c00H
    95 000001B8 CD 21                           			INT	21H
    96 000001BA                                 .file_err:			
    97 000001BA BE 0D79                         MOV SI,dat.file_msg
    98 000001BD E9 FF79                         			jmp	.msgout
    99 000001C0                                 .drive_err:			
   100 000001C0 BE 0D88                         MOV SI,dat.drive_msg
   101 000001C3 E9 FF73                         			jmp	.msgout
   102 000001C6                                 .cmd_write:			
   103 000001C6 E8 064D                         			call	near     get_param0
   104 000001C9 E8 06F0                         			call	near     fix_seclen
   105 000001CC BA EC00                         			mov	DX,0ec00H
   106 000001CF 31 C9                           			xor	CX,CX
   107 000001D1 B8 3D00                         			mov	AX,3d00H
   108 000001D4 CD 21                           			INT	21H
   109 000001D6 72 E2                           			jc	.file_err
   110 000001D8 A3 EFFE                         			mov	DS:[0effeH],AX
   111 000001DB 31 D2                           			xor	DX,DX
   112 000001DD                                 .writeloop:			
   113 000001DD                                 .LL0006:			
   114 000001DD 52                              			PUSH	DX
   115 000001DE B4 3F                           			mov	AH,3fH
   116 000001E0 8B 1E EFFE                      			mov	BX,DS:[0effeH]
   117 000001E4 8B 0E 0DDA                      MOV CX,[dat.clulen]
   118 000001E8 BA 4000                         			mov	DX,4000H
   119 000001EB CD 21                           			INT	21H
   120 000001ED 5A                              			POP	DX
   121 000001EE 72 CA                           			jc	.file_err
   122 000001F0 85 C0                           			test	AX,AX
   123 000001F2 74 3E                           			je	.LL0007
   124 000001F4 52                              			PUSH	DX
   125 000001F5 31 D2                           			xor	DX,DX
   126 000001F7 89 C7                           			mov	DI,AX
   127 000001F9 F7 36 0DDC                      DIV WORD [dat.seclen]
   128 000001FD 85 D2                           			test	DX,DX
   129 000001FF 74 11                           			je	.LL0008
   130 00000201 50                              			PUSH	AX
   131 00000202 8B 0E 0DDA                      MOV CX,[dat.clulen]
   132 00000206 29 F9                           			sub	CX,DI
   133 00000208 81 C7 4000                      			add	DI,4000H
   134 0000020C 31 C0                           			xor	AX,AX
   135 0000020E F3 AA                           REP STOSB
   136 00000210 58                              			POP	AX
   137 00000211 40                              			inc	AX
   138 00000212                                 .LL0008:			
   139 00000212 5A                              			POP	DX
   140 00000213 89 C1                           			mov	CX,AX
   141 00000215 A0 E000                         			mov	AL,DS:[0e000H]
   142 00000218 BB 4000                         			mov	BX,4000H
   143 0000021B 52                              			PUSH	DX
   144 0000021C 51                              			PUSH	CX
   145 0000021D CD 26                           			INT	26H
   146 0000021F 58                              			POP	AX
   147 00000220 59                              			POP	CX
   148 00000221 5A                              			POP	DX
   149 00000222 72 9C                           			jc	.drive_err
   150 00000224 A1 0DDA                         MOV AX,[dat.clulen]
   151 00000227 C1 E8 09                        			shr	AX,9
   152 0000022A 01 CA                           			add	DX,CX
   153 0000022C 29 06 0DD8                      SUB [dat.size],AX
   154 00000230 77 AB                           			ja	.LL0006
   155 00000232                                 .LL0007:			
   156 00000232 B8 4C00                         			mov	AX,4c00H
   157 00000235 CD 21                           			INT	21H
   158 00000237                                 .cmd_ovrcopy:			
   159 00000237 E8 0657                         			call	near     get_param1
   160 0000023A B8 3D01                         			mov	AX,3d01H
   161 0000023D EB 0B                           			jmp	.ovrcopy_entry2
   162 0000023F                                 .cmd_expand:			
   163 0000023F E8 064F                         			call	near     get_param1
   164 00000242 0F 84 062A                      JZ get_param0.err
   165 00000246 31 C9                           			xor	CX,CX
   166 00000248 B4 3C                           			mov	AH,3cH
   167 0000024A                                 .ovrcopy_entry2:		
   168 0000024A BA EC00                         			mov	DX,0ec00H
   169 0000024D CD 21                           			INT	21H
   170 0000024F 0F 82 00CE                      			jc	.outfile_err
   171 00000253 A3 EFFE                         			mov	DS:[0effeH],AX
   172 00000256 BA E800                         			mov	DX,0e800H
   173 00000259 B8 3D00                         			mov	AX,3d00H
   174 0000025C CD 21                           			INT	21H
   175 0000025E 0F 82 00B9                      			jc	.infile_err
   176 00000262 A3 EBFE                         			mov	DS:[0ebfeH],AX
   177 00000265                                 .LL000A:			
   178 00000265 B4 3F                           			mov	AH,3fH
   179 00000267 8B 1E EBFE                      			mov	BX,DS:[0ebfeH]
   180 0000026B B9 8000                         			mov	CX,32*1024
   181 0000026E BA 4000                         			mov	DX,4000H
   182 00000271 CD 21                           			INT	21H
   183 00000273 0F 82 00A4                      			jc	.infile_err
   184 00000277 3D 8000                         			cmp	AX,32*1024
   185 0000027A 74 1A                           			je	.LL000C
   186 0000027C F6 06 0DD8 01                   TEST BYTE [dat.size],0x01
   187 00000281 75 44                           			jne	.ovrcopy_skip
   188 00000283 85 C0                           			test	AX,AX
   189 00000285 74 5A                           			je	.expanding
   190 00000287 B9 8000                         			mov	CX,32*1024
   191 0000028A 89 C7                           			mov	DI,AX
   192 0000028C 29 C1                           			sub	CX,AX
   193 0000028E 81 C7 4000                      			add	DI,4000H
   194 00000292 31 C0                           			xor	AX,AX
   195 00000294 F3 AA                           REP STOSB
   196 00000296                                 .LL000C:			
   197 00000296 A1 0DD8                         MOV AX,[dat.size]
   198 00000299 3D 0040                         			cmp	AX,64
   199 0000029C 76 03                           			jbe	.LL000E
   200 0000029E B8 0040                         			mov	AX,64
   201 000002A1                                 .LL000E:			
   202 000002A1 C1 E0 09                        			shl	AX,9
   203 000002A4 89 C1                           			mov	CX,AX
   204 000002A6 B4 40                           			mov	AH,40H
   205 000002A8 8B 1E EFFE                      			mov	BX,DS:[0effeH]
   206 000002AC BA 4000                         			mov	DX,4000H
   207 000002AF 51                              			PUSH	CX
   208 000002B0 CD 21                           			INT	21H
   209 000002B2 59                              			POP	CX
   210 000002B3 72 6C                           			jc	.outfile_err
   211 000002B5 39 C8                           			cmp	AX,CX
   212 000002B7 75 68                           			jne	.outfile_err
   213 000002B9 C1 E8 09                        			shr	AX,9
   214 000002BC 29 06 0DD8                      SUB [dat.size],AX
   215 000002C0 77 A3                           			ja	.LL000A
   216 000002C2                                 .LL000B:			
   217 000002C2 B8 4C00                         			mov	AX,4c00H
   218 000002C5 CD 21                           			INT	21H
   219 000002C7                                 .ovrcopy_skip:			
   220 000002C7 89 C1                           			mov	CX,AX
   221 000002C9 B4 40                           			mov	AH,40H
   222 000002CB 8B 1E EFFE                      			mov	BX,DS:[0effeH]
   223 000002CF BA 4000                         			mov	DX,4000H
   224 000002D2 51                              			PUSH	CX
   225 000002D3 CD 21                           			INT	21H
   226 000002D5 59                              			POP	CX
   227 000002D6 72 49                           			jc	.outfile_err
   228 000002D8 39 C8                           			cmp	AX,CX
   229 000002DA 75 45                           			jne	.outfile_err
   230 000002DC B8 4C00                         			mov	AX,4c00H
   231 000002DF CD 21                           			INT	21H
   232 000002E1                                 .expanding:			
   233 000002E1 BF 4000                         			mov	DI,4000H
   234 000002E4 B9 4000                         			mov	CX,32*1024/2
   235 000002E7 31 C0                           			xor	AX,AX
   236 000002E9 F3 AB                           REP STOSW
   237 000002EB                                 .LL0010:			
   238 000002EB B4 40                           			mov	AH,40H
   239 000002ED 8B 1E EFFE                      			mov	BX,DS:[0effeH]
   240 000002F1 8B 0E 0DD8                      MOV CX,[dat.size]
   241 000002F5 83 F9 40                        			cmp	CX,64
   242 000002F8 76 03                           			jbe	.LL0012
   243 000002FA B9 0040                         			mov	CX,64
   244 000002FD                                 .LL0012:			
   245 000002FD C1 E1 09                        			shl	CX,9
   246 00000300 BA 1000                         			mov	DX,1000H
   247 00000303 51                              			PUSH	CX
   248 00000304 CD 21                           			INT	21H
   249 00000306 59                              			POP	CX
   250 00000307 72 18                           			jc	.outfile_err
   251 00000309 39 C8                           			cmp	AX,CX
   252 0000030B 75 14                           			jne	.outfile_err
   253 0000030D C1 E8 09                        			shr	AX,9
   254 00000310 29 06 0DD8                      SUB [dat.size],AX
   255 00000314 77 D5                           			ja	.LL0010
   256 00000316                                 .LL0011:			
   257 00000316                                 .exit0:			
   258 00000316 B8 4C00                         			mov	AX,4c00H
   259 00000319 CD 21                           			INT	21H
   260 0000031B                                 .infile_err:			
   261 0000031B BE 0D98                         MOV SI,dat.infile_msg
   262 0000031E E9 FE18                         			jmp	.msgout
   263 00000321                                 .outfile_err:			
   264 00000321 BE 0DAC                         MOV SI,dat.outfile_msg
   265 00000324 E9 FE12                         			jmp	.msgout
   266 00000327                                 .cmd_exe2sys:			
   267 00000327 E8 0567                         			call	near     get_param1
   268 0000032A 0F 84 0542                      JZ get_param0.err
   269 0000032E D1 0E 0DD8                      ROR WORD [dat.size],1
   270 00000332 BA E800                         			mov	DX,0e800H
   271 00000335 B8 3D00                         			mov	AX,3d00H
   272 00000338 CD 21                           			INT	21H
   273 0000033A 72 DF                           			jc	.infile_err
   274 0000033C A3 EBFE                         			mov	DS:[0ebfeH],AX
   275 0000033F BA EC00                         			mov	DX,0ec00H
   276 00000342 31 C9                           			xor	CX,CX
   277 00000344 B4 3C                           			mov	AH,3cH
   278 00000346 CD 21                           			INT	21H
   279 00000348 72 D7                           			jc	.outfile_err
   280 0000034A A3 EFFE                         			mov	DS:[0effeH],AX
   281 0000034D BA E800                         			mov	DX,0e800H
   282 00000350 B4 3F                           			mov	AH,3fH
   283 00000352 B9 001C                         			mov	CX,1cH
   284 00000355 8B 1E EBFE                      			mov	BX,DS:[0ebfeH]
   285 00000359 53                              			PUSH	BX
   286 0000035A CD 21                           			INT	21H
   287 0000035C 5B                              			POP	BX
   288 0000035D 72 BC                           			jc	.infile_err
   289 0000035F 3D 001C                         			cmp	AX,1cH
   290 00000362 75 B7                           			jne	.infile_err
   291 00000364 81 3E E800 5A4D                 			cmp	word     DS:[0e800H],5a4dH
   292 0000036A 75 AF                           			jne	.infile_err
   293 0000036C B8 4200                         			mov	AX,4200H
   294 0000036F 31 C9                           			xor	CX,CX
   295 00000371 8B 16 E818                      			mov	DX,DS:[0e800H+0018H]
   296 00000375 53                              			PUSH	BX
   297 00000376 CD 21                           			INT	21H
   298 00000378 5B                              			POP	BX
   299 00000379 72 A0                           			jc	.infile_err
   300 0000037B 8B 0E E806                      			mov	CX,DS:[0e800H+0006H]
   301 0000037F 81 F9 1800                      			cmp	CX,6144
   302 00000383 77 96                           			ja	.infile_err
   303 00000385 C1 E1 02                        			shl	CX,2
   304 00000388 B4 3F                           			mov	AH,3fH
   305 0000038A BA 4000                         			mov	DX,4000H
   306 0000038D 53                              			PUSH	BX
   307 0000038E 51                              			PUSH	CX
   308 0000038F CD 21                           			INT	21H
   309 00000391 59                              			POP	CX
   310 00000392 5B                              			POP	BX
   311 00000393 72 86                           			jc	.infile_err
   312 00000395 39 C8                           			cmp	AX,CX
   313 00000397 75 82                           			jne	.infile_err
   314 00000399 B8 4200                         			mov	AX,4200H
   315 0000039C 8B 16 E808                      			mov	DX,DS:[0e800H+0008H]
   316 000003A0 31 C9                           			xor	CX,CX
   317 000003A2 C1 E2 04                        			shl	DX,4
   318 000003A5 53                              			PUSH	BX
   319 000003A6 CD 21                           			INT	21H
   320 000003A8 5B                              			POP	BX
   321 000003A9 0F 82 FF6E                      			jc	.infile_err
   322 000003AD 31 ED                           			xor	BP,BP
   323 000003AF                                 .LL0014:			
   324 000003AF B4 3F                           			mov	AH,3fH
   325 000003B1 8B 1E EBFE                      			mov	BX,DS:[0ebfeH]
   326 000003B5 B9 4000                         			mov	CX,16*1024
   327 000003B8 BA A000                         			mov	DX,4000H+6000H
   328 000003BB 55                              			PUSH	BP
   329 000003BC CD 21                           			INT	21H
   330 000003BE 5D                              			POP	BP
   331 000003BF 0F 82 FF58                      			jc	.infile_err
   332 000003C3 85 C0                           			test	AX,AX
   333 000003C5 0F 84 FF4D                      			je	.exit0
   334 000003C9 50                              			PUSH	AX
   335 000003CA 8B 0E E806                      			mov	CX,DS:[0e800H+0006H]
   336 000003CE 85 C9                           			test	CX,CX
   337 000003D0 74 28                           			je	.LL0016
   338 000003D2 BE 4000                         			mov	SI,4000H
   339 000003D5                                 .LL0018:			
   340 000003D5 AD                              			LODSW	
   341 000003D6 97                              			XCHG	AX,DI
   342 000003D7 AD                              			LODSW	
   343 000003D8 89 FA                           			mov	DX,DI
   344 000003DA 83 E7 0F                        			and	DI,0fH
   345 000003DD C1 EA 04                        			shr	DX,4
   346 000003E0 01 D0                           			add	AX,DX
   347 000003E2 29 E8                           			sub	AX,BP
   348 000003E4 72 11                           			jb	.LL001A
   349 000003E6 3D 0800                         			cmp	AX,2048
   350 000003E9 73 0C                           			jae	.LL001C
   351 000003EB C1 E0 04                        			shl	AX,4
   352 000003EE 01 C7                           			add	DI,AX
   353 000003F0 A1 0DD8                         MOV AX,[dat.size]
   354 000003F3 01 85 A000                      			add	DS:[DI+4000H+6000H],AX
   355 000003F7                                 .LL001C:			
   356 000003F7                                 .LL001A:			
   357 000003F7 49                              			dec	CX
   358 000003F8 75 DB                           			jne	.LL0018
   359 000003FA                                 .LL0019:			
   360 000003FA                                 .LL0016:			
   361 000003FA 59                              			POP	CX
   362 000003FB B4 40                           			mov	AH,40H
   363 000003FD 8B 1E EFFE                      			mov	BX,DS:[0effeH]
   364 00000401 BA A000                         			mov	DX,4000H+6000H
   365 00000404 55                              			PUSH	BP
   366 00000405 51                              			PUSH	CX
   367 00000406 CD 21                           			INT	21H
   368 00000408 59                              			POP	CX
   369 00000409 5D                              			POP	BP
   370 0000040A 0F 82 FF13                      			jc	.outfile_err
   371 0000040E 39 C8                           			cmp	AX,CX
   372 00000410 0F 85 FF0D                      			jne	.outfile_err
   373 00000414 81 C5 0400                      			add	BP,1024
   374 00000418 EB 95                           			jmp	.LL0014
   375 0000041A                                 .LL0015:			
   376 0000041A                                 .cmd_release:			
   377 0000041A E8 0474                         			call	near     get_param1
   378 0000041D 0F 85 044F                      JNZ get_param0.err
   379 00000421 BA E800                         			mov	DX,0e800H
   380 00000424 B8 3D00                         			mov	AX,3d00H
   381 00000427 CD 21                           			INT	21H
   382 00000429 0F 82 FEEE                      			jc	.infile_err
   383 0000042D A3 EBFE                         			mov	DS:[0ebfeH],AX
   384 00000430 89 C3                           			mov	BX,AX
   385 00000432 B8 4202                         			mov	AX,4202H
   386 00000435 31 D2                           			xor	DX,DX
   387 00000437 31 C9                           			xor	CX,CX
   388 00000439 53                              			PUSH	BX
   389 0000043A CD 21                           			INT	21H
   390 0000043C 5B                              			POP	BX
   391 0000043D 0F 82 FEDA                      			jc	.infile_err
   392 00000441 83 FA 05                        			cmp	DX,5
   393 00000444 0F 82 FED3                      			jb	.infile_err
   394 00000448 88 E0                           			mov	AL,AH
   395 0000044A 88 D4                           			mov	AH,DL
   396 0000044C 88 F2                           			mov	DL,DH
   397 0000044E 30 F6                           			xor	DH,DH
   398 00000450 D1 EA                           			SHR	DX,1
   399 00000452 D1 D8                           			RCR	AX,1
   400 00000454 A3 E004                         			mov	DS:[0e004H+0],AX
   401 00000457 89 16 E006                      			mov	DS:[0e004H+2],DX
   402 0000045B B8 4200                         			mov	AX,4200H
   403 0000045E 31 D2                           			xor	DX,DX
   404 00000460 31 C9                           			xor	CX,CX
   405 00000462 CD 21                           			INT	21H
   406 00000464 0F 82 FEB3                      			jc	.infile_err
   407 00000468 E8 046F                         			call	near     read32k
   408 0000046B 0F 82 FEAC                      			jc	.infile_err
   409 0000046F 31 C0                           			xor	AX,AX
   410 00000471 81 3E 4040 4653                 			cmp	word     DS:[4000H+0040H],4653H
   411 00000477 0F 85 FEA0                      			jne	.infile_err
   412 0000047B 81 3E 4042 3631                 			cmp	word     DS:[4000H+0042H],3631H
   413 00000481 0F 85 FE96                      			jne	.infile_err
   414 00000485 83 3E 41F0 30                   			cmp	word     DS:[4000H+01f0H],0030H
   415 0000048A 0F 85 FE8D                      			jne	.infile_err
   416 0000048E 39 06 41F2                      			cmp	word     DS:[4000H+01f2H],AX
   417 00000492 0F 85 FE85                      			jne	.infile_err
   418 00000496 39 06 41F4                      			cmp	word     DS:[4000H+01f4H],AX
   419 0000049A 0F 85 FE7D                      			jne	.infile_err
   420 0000049E 39 06 41F6                      			cmp	word     DS:[4000H+01f6H],AX
   421 000004A2 0F 85 FE75                      			jne	.infile_err
   422 000004A6 81 3E 41F8 484B                 			cmp	word     DS:[4000H+01f8H],484bH
   423 000004AC 0F 85 FE6B                      			jne	.infile_err
   424 000004B0 81 3E 41FA 3042                 			cmp	word     DS:[4000H+01faH],3042H
   425 000004B6 0F 85 FE61                      			jne	.infile_err
   426 000004BA 83 3E 41FC 09                   			cmp	word     DS:[4000H+01fcH],0009H
   427 000004BF 0F 85 FE58                      			jne	.infile_err
   428 000004C3 BE A000                         			mov	SI,4000H+6000H
   429 000004C6 81 3C 2000                      			cmp	word     DS:[SI+0],2000H
   430 000004CA 0F 85 FE4D                      			jne	.infile_err
   431 000004CE 39 44 02                        			cmp	word     DS:[SI+2],AX
   432 000004D1 0F 85 FE46                      			jne	.infile_err
   433 000004D5 81 7C 04 2000                   			cmp	word     DS:[SI+4],2000H
   434 000004DA 0F 85 FE3D                      			jne	.infile_err
   435 000004DE 39 44 06                        			cmp	word     DS:[SI+6],AX
   436 000004E1 0F 85 FE36                      			jne	.infile_err
   437 000004E5 81 7C 08 484B                   			cmp	word     DS:[SI+8],484bH
   438 000004EA 0F 85 FE2D                      			jne	.infile_err
   439 000004EE 81 7C 0A 4942                   			cmp	word     DS:[SI+10],4942H
   440 000004F3 0F 85 FE24                      			jne	.infile_err
   441 000004F7 81 7C 0C 534F                   			cmp	word     DS:[SI+12],534fH
   442 000004FC 0F 85 FE1B                      			jne	.infile_err
   443 00000500 81 7C 0E 3030                   			cmp	word     DS:[SI+14],3030H
   444 00000505 0F 85 FE12                      			jne	.infile_err
   445 00000509 80 7C 13 09                     			cmp	byte     DS:[SI+19],09H
   446 0000050D 0F 85 FE0A                      			jne	.infile_err
   447 00000511 83 7C 30 30                     			cmp	word     DS:[SI+48],0030H
   448 00000515 0F 85 FE02                      			jne	.infile_err
   449 00000519 39 44 32                        			cmp	word     DS:[SI+50],AX
   450 0000051C 0F 85 FDFB                      			jne	.infile_err
   451 00000520 81 7C 34 0800                   			cmp	word     DS:[SI+52],0800H
   452 00000525 0F 85 FDF2                      			jne	.infile_err
   453 00000529 39 44 36                        			cmp	word     DS:[SI+54],AX
   454 0000052C 0F 85 FDEB                      			jne	.infile_err
   455 00000530 80 7C 63 09                     			cmp	byte     DS:[SI+99],09H
   456 00000534 0F 85 FDE3                      			jne	.infile_err
   457 00000538 81 7C 64 0200                   			cmp	word     DS:[SI+100],0200H
   458 0000053D 0F 85 FDDA                      			jne	.infile_err
   459 00000541 39 44 66                        			cmp	word     DS:[SI+102],AX
   460 00000544 0F 85 FDD3                      			jne	.infile_err
   461 00000548 BE A200                         			mov	SI,4000H+6200H
   462 0000054B 39 04                           			cmp	word     DS:[SI+0],AX
   463 0000054D 75 07                           			jne	.LL001E
   464 0000054F 39 44 02                        			cmp	word     DS:[SI+2],AX
   465 00000552 0F 84 FDC5                      			je	.infile_err
   466 00000556                                 .LL001E:			
   467 00000556 80 7C 05 09                     			cmp	byte     DS:[SI+5],09H
   468 0000055A 0F 85 FDBD                      			jne	.infile_err
   469 0000055E 81 7C 06 0909                   			cmp	word     DS:[SI+6],0909H
   470 00000563 0F 85 FDB4                      			jne	.infile_err
   471 00000567 83 7C 30 20                     			cmp	word     DS:[SI+48],0020H
   472 0000056B 0F 85 FDAC                      			jne	.infile_err
   473 0000056F 39 44 32                        			cmp	word     DS:[SI+50],AX
   474 00000572 0F 85 FDA5                      			jne	.infile_err
   475 00000576 BE A800                         			mov	SI,4000H+6800H
   476 00000579 39 04                           			cmp	word     DS:[SI+0],AX
   477 0000057B 75 07                           			jne	.LL0020
   478 0000057D 39 44 02                        			cmp	word     DS:[SI+2],AX
   479 00000580 0F 84 FD97                      			je	.infile_err
   480 00000584                                 .LL0020:			
   481 00000584 80 7C 05 09                     			cmp	byte     DS:[SI+5],09H
   482 00000588 0F 85 FD8F                      			jne	.infile_err
   483 0000058C 81 7C 06 0909                   			cmp	word     DS:[SI+6],0909H
   484 00000591 0F 85 FD86                      			jne	.infile_err
   485 00000595 83 7C 30 20                     			cmp	word     DS:[SI+48],0020H
   486 00000599 0F 85 FD7E                      			jne	.infile_err
   487 0000059D 39 44 32                        			cmp	word     DS:[SI+50],AX
   488 000005A0 0F 85 FD77                      			jne	.infile_err
   489 000005A4 BE A880                         			mov	SI,4000H+6880H
   490 000005A7                                 .LL0022:			
   491 000005A7 39 04                           			cmp	word     DS:[SI+0],AX
   492 000005A9 0F 85 FD6E                      			jne	.infile_err
   493 000005AD 39 44 02                        			cmp	word     DS:[SI+2],AX
   494 000005B0 0F 85 FD67                      			jne	.infile_err
   495 000005B4 81 C6 0080                      			add	SI,128
   496 000005B8 81 FE C000                      			cmp	SI,4000H+8000H
   497 000005BC 72 E9                           			jb	.LL0022
   498 000005BE                                 .LL0023:			
   499 000005BE BE 4000                         			mov	SI,4000H
   500 000005C1 8B 44 44                        			mov	AX,DS:[SI+68]
   501 000005C4 A3 E008                         			mov	DS:[0e008H],AX
   502 000005C7 8A 44 0D                        			mov	AL,DS:[SI+13]
   503 000005CA 30 E4                           			xor	AH,AH
   504 000005CC A3 EFFE                         			mov	DS:[0effeH],AX
   505 000005CF E8 0308                         			call	near     read32k
   506 000005D2 0F 82 FD45                      			jc	.infile_err
   507 000005D6 B9 0002                         			mov	CX,2
   508 000005D9 BE 4004                         			mov	SI,4000H+4
   509 000005DC C7 06 E00A 0001                 			mov	word     DS:[0e008H+2],1
   510 000005E2                                 .LL0024:			
   511 000005E2 3B 0E E008                      			cmp	CX,DS:[0e008H]
   512 000005E6 73 09                           			jae	.LL0026
   513 000005E8 83 3C 00                        			cmp	word     DS:[SI],0
   514 000005EB 74 04                           			je	.LL0028
   515 000005ED 89 0E E00A                      			mov	DS:[0e008H+2],CX
   516 000005F1                                 .LL0028:			
   517 000005F1                                 .LL0026:			
   518 000005F1 83 C6 02                        			add	SI,2
   519 000005F4 41                              			inc	CX
   520 000005F5 81 FE C000                      			cmp	SI,4000H+8000H
   521 000005F9 72 E7                           			jb	.LL0024
   522 000005FB                                 .LL0025:			
   523 000005FB 81 3E E008 4000                 			cmp	word     DS:[0e008H],4000H
   524 00000601 72 26                           			jb	.LL002A
   525 00000603 E8 02D4                         			call	near     read32k
   526 00000606 0F 82 FD11                      			jc	.infile_err
   527 0000060A B9 4000                         			mov	CX,4000H
   528 0000060D BE 4000                         			mov	SI,4000H
   529 00000610                                 .LL002C:			
   530 00000610 3B 0E E008                      			cmp	CX,DS:[0e008H]
   531 00000614 73 09                           			jae	.LL002E
   532 00000616 83 3C 00                        			cmp	word     DS:[SI],0
   533 00000619 74 04                           			je	.LL0030
   534 0000061B 89 0E E00A                      			mov	DS:[0e008H+2],CX
   535 0000061F                                 .LL0030:			
   536 0000061F                                 .LL002E:			
   537 0000061F 83 C6 02                        			add	SI,2
   538 00000622 41                              			inc	CX
   539 00000623 81 FE C000                      			cmp	SI,4000H+8000H
   540 00000627 72 E7                           			jb	.LL002C
   541 00000629                                 .LL002D:			
   542 00000629                                 .LL002A:			
   543 00000629 81 3E E008 8000                 			cmp	word     DS:[0e008H],8000H
   544 0000062F 72 26                           			jb	.LL0032
   545 00000631 E8 02A6                         			call	near     read32k
   546 00000634 0F 82 FCE3                      			jc	.infile_err
   547 00000638 B9 8000                         			mov	CX,8000H
   548 0000063B BE 4000                         			mov	SI,4000H
   549 0000063E                                 .LL0034:			
   550 0000063E 3B 0E E008                      			cmp	CX,DS:[0e008H]
   551 00000642 73 09                           			jae	.LL0036
   552 00000644 83 3C 00                        			cmp	word     DS:[SI],0
   553 00000647 74 04                           			je	.LL0038
   554 00000649 89 0E E00A                      			mov	DS:[0e008H+2],CX
   555 0000064D                                 .LL0038:			
   556 0000064D                                 .LL0036:			
   557 0000064D 83 C6 02                        			add	SI,2
   558 00000650 41                              			inc	CX
   559 00000651 81 FE C000                      			cmp	SI,4000H+8000H
   560 00000655 72 E7                           			jb	.LL0034
   561 00000657                                 .LL0035:			
   562 00000657                                 .LL0032:			
   563 00000657 81 3E E008 C000                 			cmp	word     DS:[0e008H],0c000H
   564 0000065D 72 26                           			jb	.LL003A
   565 0000065F E8 0278                         			call	near     read32k
   566 00000662 0F 82 FCB5                      			jc	.infile_err
   567 00000666 B9 C000                         			mov	CX,0c000H
   568 00000669 BE 4000                         			mov	SI,4000H
   569 0000066C                                 .LL003C:			
   570 0000066C 3B 0E E008                      			cmp	CX,DS:[0e008H]
   571 00000670 73 09                           			jae	.LL003E
   572 00000672 83 3C 00                        			cmp	word     DS:[SI],0
   573 00000675 74 04                           			je	.LL0040
   574 00000677 89 0E E00A                      			mov	DS:[0e008H+2],CX
   575 0000067B                                 .LL0040:			
   576 0000067B                                 .LL003E:			
   577 0000067B 83 C6 02                        			add	SI,2
   578 0000067E 41                              			inc	CX
   579 0000067F 81 FE C000                      			cmp	SI,4000H+8000H
   580 00000683 72 E7                           			jb	.LL003C
   581 00000685                                 .LL003D:			
   582 00000685                                 .LL003A:			
   583 00000685 A1 E00A                         			mov	AX,DS:[0e008H+2]
   584 00000688 48                              			dec	AX
   585 00000689 F7 26 EFFE                      			MUL	word     DS:[0effeH]
   586 0000068D 05 0280                         			add	AX,280H
   587 00000690 83 D2 00                        			ADC	DX,0
   588 00000693 8B 0E E006                      			mov	CX,DS:[0e004H+2]
   589 00000697 39 06 E004                      			CMP	DS:[0e004H+0],AX
   590 0000069B 19 D1                           			SBB	CX,DX
   591 0000069D 0F 82 00EE                      			jb	.size_err
   592 000006A1 A3 E004                         			mov	DS:[0e004H+0],AX
   593 000006A4 89 16 E006                      			mov	DS:[0e004H+2],DX
   594 000006A8 B8 4200                         			mov	AX,4200H
   595 000006AB BA 0000                         			mov	DX,0000H
   596 000006AE 31 C9                           			xor	CX,CX
   597 000006B0 CD 21                           			INT	21H
   598 000006B2 0F 82 FC65                      			jc	.infile_err
   599 000006B6 BA EC00                         			mov	DX,0ec00H
   600 000006B9 31 C9                           			xor	CX,CX
   601 000006BB B4 3C                           			mov	AH,3cH
   602 000006BD CD 21                           			INT	21H
   603 000006BF 0F 82 FC5E                      			jc	.outfile_err
   604 000006C3 A3 EFFE                         			mov	DS:[0effeH],AX
   605 000006C6 E8 0211                         			call	near     read32k
   606 000006C9 0F 82 FC4E                      			jc	.infile_err
   607 000006CD BE 4000                         			mov	SI,4000H
   608 000006D0 A1 E004                         			mov	AX,DS:[0e004H+0]
   609 000006D3 8B 16 E006                      			mov	DX,DS:[0e004H+2]
   610 000006D7 8B 0E E00A                      			mov	CX,DS:[0e008H+2]
   611 000006DB 41                              			inc	CX
   612 000006DC C6 44 13 00                     			mov	byte     DS:[SI+19],0
   613 000006E0 C6 44 14 00                     			mov	byte     DS:[SI+20],0
   614 000006E4 85 D2                           			test	DX,DX
   615 000006E6 75 06                           			jne	.LL0042
   616 000006E8 88 44 13                        			mov	byte     DS:[SI+19],AL
   617 000006EB 88 64 14                        			mov	byte     DS:[SI+20],AH
   618 000006EE                                 .LL0042:			
   619 000006EE 89 44 20                        			mov	DS:[SI+20H],AX
   620 000006F1 89 54 22                        			mov	DS:[SI+22H],DX
   621 000006F4 89 4C 44                        			mov	DS:[SI+44H],CX
   622 000006F7 89 44 48                        			mov	DS:[SI+48H],AX
   623 000006FA 89 54 4A                        			mov	DS:[SI+4aH],DX
   624 000006FD BE A000                         			mov	SI,4000H+6000H
   625 00000700 89 44 20                        			mov	DS:[SI+32],AX
   626 00000703 89 54 22                        			mov	DS:[SI+34],DX
   627 00000706 89 44 70                        			mov	DS:[SI+112],AX
   628 00000709 89 54 72                        			mov	DS:[SI+114],DX
   629 0000070C A3 A850                         			mov	DS:[4000H+6850H],AX
   630 0000070F 89 16 A852                      			mov	DS:[4000H+6852H],DX
   631 00000713 A3 A860                         			mov	DS:[4000H+6860H],AX
   632 00000716 89 16 A862                      			mov	DS:[4000H+6862H],DX
   633 0000071A E8 01D2                         			call	near     write32k
   634 0000071D 0F 82 FC00                      			jc	.outfile_err
   635 00000721 E8 01E0                         			call	near     comp_sub0
   636 00000724 E8 01DD                         			call	near     comp_sub0
   637 00000727 81 2E E004 0240                 			sub	word     DS:[0e004H+0],576
   638 0000072D 83 3E E004 40                   			cmp	word     DS:[0e004H],64
   639 00000732 72 1A                           			jb	.LL0044
   640 00000734                                 .LL0046:			
   641 00000734 E8 01A3                         			call	near     read32k
   642 00000737 0F 82 FBE0                      			jc	.infile_err
   643 0000073B E8 01B1                         			call	near     write32k
   644 0000073E 0F 82 FBDF                      			jc	.outfile_err
   645 00000742 83 2E E004 40                   			sub	word     DS:[0e004H],64
   646 00000747 83 3E E004 40                   			cmp	word     DS:[0e004H],64
   647 0000074C 73 E6                           			jae	.LL0046
   648 0000074E                                 .LL0047:			
   649 0000074E                                 .LL0044:			
   650 0000074E 83 3E E004 00                   			cmp	word     DS:[0e004H],0
   651 00000753 76 35                           			jbe	.LL0048
   652 00000755 8B 1E EBFE                      			mov	BX,DS:[0ebfeH]
   653 00000759 B4 3F                           			mov	AH,3fH
   654 0000075B 8B 0E E004                      			mov	CX,DS:[0e004H]
   655 0000075F BA 4000                         			mov	DX,4000H
   656 00000762 C1 E1 09                        			shl	CX,9
   657 00000765 51                              			PUSH	CX
   658 00000766 CD 21                           			INT	21H
   659 00000768 59                              			POP	CX
   660 00000769 0F 82 FBAE                      			jc	.infile_err
   661 0000076D 39 C8                           			cmp	AX,CX
   662 0000076F 0F 85 FBA8                      			jne	.infile_err
   663 00000773 8B 1E EFFE                      			mov	BX,DS:[0effeH]
   664 00000777 B4 40                           			mov	AH,40H
   665 00000779 BA 4000                         			mov	DX,4000H
   666 0000077C 51                              			PUSH	CX
   667 0000077D CD 21                           			INT	21H
   668 0000077F 59                              			POP	CX
   669 00000780 0F 82 FB9D                      			jc	.outfile_err
   670 00000784 39 C8                           			cmp	AX,CX
   671 00000786 0F 85 FB97                      			jne	.outfile_err
   672 0000078A                                 .LL0048:			
   673 0000078A B8 4C00                         			mov	AX,4c00H
   674 0000078D CD 21                           			INT	21H
   675 0000078F                                 .size_err:			
   676 0000078F BE 0DC1                         MOV SI,dat.size_msg
   677 00000792 E9 F9A4                         			jmp	.msgout
   678 00000795                                 .cmd_format:			
   679 00000795 E8 022B                         			call	near     format_sub0
   680 00000798                                 .format2:			
   681 00000798 F7 E1                           			MUL	CX
   682 0000079A 05 0280                         			add	AX,640
   683 0000079D 83 D2 00                        			ADC	DX,0
   684 000007A0 85 D2                           			test	DX,DX
   685 000007A2 75 06                           			jne	.LL004A
   686 000007A4 88 44 13                        			mov	byte     DS:[SI+13H],AL
   687 000007A7 88 64 14                        			mov	byte     DS:[SI+14H],AH
   688 000007AA                                 .LL004A:			
   689 000007AA 89 44 20                        			mov	DS:[SI+20H],AX
   690 000007AD 89 54 22                        			mov	DS:[SI+22H],DX
   691 000007B0 8A 44 0C                        			mov	AL,DS:[SI+0cH]
   692 000007B3 A2 0DDD                         MOV [dat.seclen+1],AL
   693 000007B6 A1 E004                         			mov	AX,DS:[0e004H+0]
   694 000007B9 2D 0040                         			sub	AX,64
   695 000007BC A3 0DD8                         MOV WORD [dat.size],AX
   696 000007BF C7 06 0DDA 8000                 MOV WORD [dat.clulen],32*1024
   697 000007C5 31 D2                           			xor	DX,DX
   698 000007C7 E8 034A                         			call	near     drvwrite32k
   699 000007CA E9 FA10                         			jmp	.writeloop
   700 000007CD                                 .cmd_fake:			
   701 000007CD E8 01F3                         			call	near     format_sub0
   702 000007D0 3D 0FF5                         			cmp	AX,0ff5H
   703 000007D3 77 C3                           			ja	.format2
   704 000007D5 A3 E010                         			mov	DS:[0e010H],AX
   705 000007D8 B8 FFEE                         			mov	AX,0ffeeH
   706 000007DB F7 E1                           			MUL	CX
   707 000007DD 05 0280                         			add	AX,640
   708 000007E0 83 D2 00                        			ADC	DX,0
   709 000007E3 85 D2                           			test	DX,DX
   710 000007E5 75 06                           			jne	.LL004C
   711 000007E7 88 44 13                        			mov	byte     DS:[SI+13H],AL
   712 000007EA 88 64 14                        			mov	byte     DS:[SI+14H],AH
   713 000007ED                                 .LL004C:			
   714 000007ED 89 44 20                        			mov	DS:[SI+20H],AX
   715 000007F0 89 54 22                        			mov	DS:[SI+22H],DX
   716 000007F3 8A 44 0C                        			mov	AL,DS:[SI+0cH]
   717 000007F6 A2 0DDD                         MOV [dat.seclen+1],AL
   718 000007F9 A1 E004                         			mov	AX,DS:[0e004H+0]
   719 000007FC 2D 0240                         			sub	AX,576
   720 000007FF A3 0DD8                         MOV WORD [dat.size],AX
   721 00000802 C7 06 0DDA 8000                 MOV WORD [dat.clulen],32*1024
   722 00000808 31 D2                           			xor	DX,DX
   723 0000080A E8 0307                         			call	near     drvwrite32k
   724 0000080D E8 031F                         			call	near     fake_fat
   725 00000810 E8 031C                         			call	near     fake_fat
   726 00000813 E9 F9C7                         			jmp	.writeloop
   727  = 00000000                              .local			equ	0
   728 00000816                                 				
   729 00000816                                 get_param0:
   730 00000816 AC                              			LODSB	
   731 00000817 3C 20                           			cmp	AL,20H
   732 00000819 77 55                           			ja	.err
   733 0000081B E8 0065                         			call	near     skipspace
   734 0000081E 3C 2D                           			cmp	AL,2dH
   735 00000820 75 0E                           			jne	.LL0000
   736 00000822 AC                              			LODSB	
   737 00000823 E8 007B                         			call	near     get_numdec
   738 00000826 89 0E 0DDC                      MOV [dat.seclen],CX
   739 0000082A 81 F9 0200                      			cmp	CX,512
   740 0000082E 72 40                           			jb	.err
   741 00000830                                 .LL0000:			
   742 00000830 3C 60                           			cmp	AL,60H
   743 00000832 72 02                           			jb	.LL0002
   744 00000834 2C 20                           			sub	AL,20H
   745 00000836                                 .LL0002:			
   746 00000836 2C 41                           			sub	AL,41H
   747 00000838 72 36                           			jb	.err
   748 0000083A 3C 1A                           			cmp	AL,26
   749 0000083C 73 32                           			jae	.err
   750 0000083E A2 E000                         			mov	DS:[0e000H],AL
   751 00000841 AC                              			LODSB	
   752 00000842 3C 3A                           			cmp	AL,3aH
   753 00000844 75 2A                           			jne	.err
   754 00000846 AC                              			LODSB	
   755 00000847 3C 20                           			cmp	AL,20H
   756 00000849 77 25                           			ja	.err
   757 0000084B E8 0035                         			call	near     skipspace
   758 0000084E                                 .param01:			
   759 0000084E BF EC00                         			mov	DI,0ec00H
   760 00000851 E8 0022                         			call	near     get_filename
   761 00000854 3C 30                           			cmp	AL,30H
   762 00000856 72 0D                           			jb	.LL0004
   763 00000858 3C 39                           			cmp	AL,39H
   764 0000085A 77 09                           			ja	.LL0006
   765 0000085C E8 0042                         			call	near     get_numdec
   766 0000085F D1 C1                           			ROL	CX,1
   767 00000861 89 0E 0DD8                      MOV [dat.size],CX
   768 00000865                                 .LL0006:			
   769 00000865                                 .LL0004:			
   770 00000865 3C 0D                           			cmp	AL,0dH
   771 00000867 75 07                           			jne	.err
   772 00000869 81 3E 0DD8 FFFF                 CMP WORD [dat.size],0xffff
   773 0000086F C3                              			RETN	
   774 00000870                                 .err:				
   775 00000870 BE 0D62                         MOV SI,dat.cmdlin_msg
   776 00000873 E9 F8C3                         JMP main.msgout
   777  = 00000000                              .local			equ	0
   778 00000876                                 				
   779 00000876                                 get_filename:
   780 00000876 3C 20                           			CMP	AL,20H
   781 00000878 76 F6                           JBE get_param0.err
   782 0000087A                                 .LL0000:			
   783 0000087A AA                              			STOSB	
   784 0000087B AC                              			LODSB	
   785 0000087C 3C 20                           			cmp	AL,20H
   786 0000087E 77 FA                           			ja	.LL0000
   787 00000880                                 .LL0001:			
   788 00000880 C6 05 00                        			mov	byte     DS:[DI],0
   789  = 00000000                              .local			equ	0
   790 00000883                                 				
   791 00000883                                 skipspace:
   792 00000883 3C 20                           			cmp	AL,20H
   793 00000885 77 09                           			ja	.LL0000
   794 00000887                                 .LL0002:			
   795 00000887 3C 0D                           			cmp	AL,0dH
   796 00000889 74 05                           			je	.LL0003
   797 0000088B AC                              			LODSB	
   798 0000088C 3C 20                           			cmp	AL,20H
   799 0000088E 76 F7                           			jbe	.LL0002
   800 00000890                                 .LL0003:			
   801 00000890                                 .LL0000:			
   802 00000890 C3                              			RETN	
   803  = 00000000                              .local			equ	0
   804 00000891                                 				
   805 00000891                                 get_param1:
   806 00000891 AC                              			LODSB	
   807 00000892 3C 20                           			CMP	AL,20H
   808 00000894 77 DA                           JA get_param0.err
   809 00000896 E8 FFEA                         			call	near     skipspace
   810 00000899 BF E800                         			mov	DI,0e800H
   811 0000089C E8 FFD7                         			call	near     get_filename
   812 0000089F EB AD                           JMP get_param0.param01
   813  = 00000000                              .local			equ	0
   814 000008A1                                 				
   815 000008A1                                 get_numdec:
   816 000008A1 31 C9                           			xor	CX,CX
   817 000008A3                                 .LL0000:			
   818 000008A3 3C 30                           			cmp	AL,30H
   819 000008A5 7C 0F                           			jl	.LL0001
   820 000008A7 3C 39                           			cmp	AL,39H
   821 000008A9 7F 0B                           			jg	.LL0001
   822 000008AB 25 000F                         			and	AX,0fH
   823 000008AE 6B C9 0A                        			IMUL	CX,10
   824 000008B1 01 C1                           			add	CX,AX
   825 000008B3 AC                              			LODSB	
   826 000008B4 EB ED                           			jmp	.LL0000
   827 000008B6                                 .LL0001:			
   828 000008B6 3C 20                           			CMP	AL,20H
   829 000008B8 77 B6                           JA get_param0.err
   830 000008BA EB C7                           JMP skipspace
   831  = 00000000                              .local			equ	0
   832 000008BC                                 				
   833 000008BC                                 fix_seclen:
   834 000008BC BE 0DDA                         MOV SI,dat.clulen
   835 000008BF 8B 04                           			mov	AX,DS:[SI+0]
   836 000008C1 3D 0200                         			cmp	AX,512
   837 000008C4 75 07                           			jne	.LL0000
   838 000008C6 C7 04 9000                      			mov	word     DS:[SI+0],512*72
   839 000008CA 89 44 02                        			mov	word     DS:[SI+2],AX
   840 000008CD                                 .LL0000:			
   841 000008CD 3D 0400                         			cmp	AX,1024
   842 000008D0 75 07                           			jne	.LL0002
   843 000008D2 C7 04 8000                      			mov	word     DS:[SI+0],1024*32
   844 000008D6 89 44 02                        			mov	word     DS:[SI+2],AX
   845 000008D9                                 .LL0002:			
   846 000008D9 C3                              			RETN	
   847  = 00000000                              .local			equ	0
   848 000008DA                                 				
   849 000008DA                                 read32k:
   850 000008DA B9 8000                         			mov	CX,32*1024
   851 000008DD BA 4000                         			mov	DX,4000H
   852 000008E0 8B 1E EBFE                      			mov	BX,DS:[0ebfeH]
   853 000008E4 B4 3F                           			mov	AH,3fH
   854 000008E6 51                              			PUSH	CX
   855 000008E7 CD 21                           			INT	21H
   856 000008E9 59                              			POP	CX
   857 000008EA 72 02                           			jc	.LL0000
   858 000008EC 39 C8                           			CMP	AX,CX
   859 000008EE                                 .LL0000:			
   860 000008EE C3                              			RETN	
   861  = 00000000                              .local			equ	0
   862 000008EF                                 				
   863 000008EF                                 write32k:
   864 000008EF B9 8000                         			mov	CX,32*1024
   865 000008F2 BA 4000                         			mov	DX,4000H
   866 000008F5 8B 1E EFFE                      			mov	BX,DS:[0effeH]
   867 000008F9 B4 40                           			mov	AH,40H
   868 000008FB 51                              			PUSH	CX
   869 000008FC CD 21                           			INT	21H
   870 000008FE 59                              			POP	CX
   871 000008FF 73 02                           			jnc	.LL0000
   872 00000901 39 C8                           			CMP	AX,CX
   873 00000903                                 .LL0000:			
   874 00000903 C3                              			RETN	
   875  = 00000000                              .local			equ	0
   876 00000904                                 				
   877 00000904                                 comp_sub0:
   878 00000904 E8 FFD3                         			call	near     read32k
   879 00000907 0F 82 00B5                      			jc	.infile_err
   880 0000090B 8B 36 E00A                      			mov	SI,DS:[0e008H+2]
   881 0000090F 46                              			inc	SI
   882 00000910 81 FE 4000                      			cmp	SI,4000H
   883 00000914 73 13                           			jae	.LL0000
   884 00000916 01 F6                           			add	SI,SI
   885 00000918 81 C6 4000                      			add	SI,4000H
   886 0000091C                                 .LL0002:			
   887 0000091C C7 04 0000                      			mov	word     DS:[SI],0
   888 00000920 83 C6 02                        			add	SI,2
   889 00000923 81 FE C000                      			cmp	SI,4000H+8000H
   890 00000927 72 F3                           			jb	.LL0002
   891 00000929                                 .LL0003:			
   892 00000929                                 .LL0000:			
   893 00000929 E8 FFC3                         			call	near     write32k
   894 0000092C 0F 82 008D                      			jc	.outfile_err
   895 00000930 E8 FFA7                         			call	near     read32k
   896 00000933 0F 82 0089                      			jc	.infile_err
   897 00000937 8B 36 E00A                      			mov	SI,DS:[0e008H+2]
   898 0000093B 46                              			inc	SI
   899 0000093C 81 FE 8000                      			cmp	SI,8000H
   900 00000940 73 1B                           			jae	.LL0004
   901 00000942 81 EE 4000                      			sub	SI,4000H
   902 00000946 73 02                           			jae	.LL0006
   903 00000948 31 F6                           			xor	SI,SI
   904 0000094A                                 .LL0006:			
   905 0000094A 01 F6                           			add	SI,SI
   906 0000094C 81 C6 4000                      			add	SI,4000H
   907 00000950                                 .LL0008:			
   908 00000950 C7 04 0000                      			mov	word     DS:[SI],0
   909 00000954 83 C6 02                        			add	SI,2
   910 00000957 81 FE C000                      			cmp	SI,4000H+8000H
   911 0000095B 72 F3                           			jb	.LL0008
   912 0000095D                                 .LL0009:			
   913 0000095D                                 .LL0004:			
   914 0000095D E8 FF8F                         			call	near     write32k
   915 00000960 72 5B                           			jc	.outfile_err
   916 00000962 E8 FF75                         			call	near     read32k
   917 00000965 72 59                           			jc	.infile_err
   918 00000967 8B 36 E00A                      			mov	SI,DS:[0e008H+2]
   919 0000096B 46                              			inc	SI
   920 0000096C 81 FE C000                      			cmp	SI,0c000H
   921 00000970 73 1B                           			jae	.LL000A
   922 00000972 81 EE 8000                      			sub	SI,8000H
   923 00000976 73 02                           			jae	.LL000C
   924 00000978 31 F6                           			xor	SI,SI
   925 0000097A                                 .LL000C:			
   926 0000097A 01 F6                           			add	SI,SI
   927 0000097C 81 C6 4000                      			add	SI,4000H
   928 00000980                                 .LL000E:			
   929 00000980 C7 04 0000                      			mov	word     DS:[SI],0
   930 00000984 83 C6 02                        			add	SI,2
   931 00000987 81 FE C000                      			cmp	SI,4000H+8000H
   932 0000098B 72 F3                           			jb	.LL000E
   933 0000098D                                 .LL000F:			
   934 0000098D                                 .LL000A:			
   935 0000098D E8 FF5F                         			call	near     write32k
   936 00000990 72 2B                           			jc	.outfile_err
   937 00000992 E8 FF45                         			call	near     read32k
   938 00000995 72 29                           			jc	.infile_err
   939 00000997 8B 36 E00A                      			mov	SI,DS:[0e008H+2]
   940 0000099B 46                              			inc	SI
   941 0000099C 81 EE C000                      			sub	SI,0c000H
   942 000009A0 73 02                           			jae	.LL0010
   943 000009A2 31 F6                           			xor	SI,SI
   944 000009A4                                 .LL0010:			
   945 000009A4 01 F6                           			add	SI,SI
   946 000009A6 81 C6 4000                      			add	SI,4000H
   947 000009AA                                 .LL0012:			
   948 000009AA C7 04 0000                      			mov	word     DS:[SI],0
   949 000009AE 83 C6 02                        			add	SI,2
   950 000009B1 81 FE C000                      			cmp	SI,4000H+8000H
   951 000009B5 72 F3                           			jb	.LL0012
   952 000009B7                                 .LL0013:			
   953 000009B7 E8 FF35                         			call	near     write32k
   954 000009BA 72 01                           			jc	.outfile_err
   955 000009BC C3                              			RETN	
   956 000009BD                                 .outfile_err:			
   957 000009BD E9 F961                         JMP main.outfile_err
   958 000009C0                                 .infile_err:			
   959 000009C0 E9 F958                         JMP main.infile_err
   960  = 00000000                              .local			equ	0
   961 000009C3                                 				
   962 000009C3                                 format_sub0:
   963 000009C3 E8 FE50                         			call	near     get_param0
   964 000009C6 0F 85 FEA6                      JNZ get_param0.err
   965 000009CA A0 E000                         			mov	AL,DS:[0e000H]
   966 000009CD B9 0001                         			mov	CX,1
   967 000009D0 31 D2                           			xor	DX,DX
   968 000009D2 BB C000                         			mov	BX,4000H+32*1024
   969 000009D5 CD 25                           			INT	25H
   970 000009D7 58                              			POP	AX
   971 000009D8 0F 82 0135                      			jc	.drive_err
   972 000009DC BA EC00                         			mov	DX,0ec00H
   973 000009DF B8 3D00                         			mov	AX,3d00H
   974 000009E2 CD 21                           			INT	21H
   975 000009E4 0F 82 0126                      			jc	.file_err
   976 000009E8 A3 EBFE                         			mov	DS:[0ebfeH],AX
   977 000009EB A3 EFFE                         			mov	DS:[0effeH],AX
   978 000009EE 89 C3                           			mov	BX,AX
   979 000009F0 B8 4202                         			mov	AX,4202H
   980 000009F3 31 D2                           			xor	DX,DX
   981 000009F5 31 C9                           			xor	CX,CX
   982 000009F7 CD 21                           			INT	21H
   983 000009F9 0F 82 0111                      			jc	.file_err
   984 000009FD 83 FA 05                        			cmp	DX,5
   985 00000A00 0F 82 010A                      			jb	.file_err
   986 00000A04 88 E0                           			mov	AL,AH
   987 00000A06 88 D4                           			mov	AH,DL
   988 00000A08 88 F2                           			mov	DL,DH
   989 00000A0A 30 F6                           			xor	DH,DH
   990 00000A0C D1 EA                           			SHR	DX,1
   991 00000A0E D1 D8                           			RCR	AX,1
   992 00000A10 A3 E004                         			mov	DS:[0e004H+0],AX
   993 00000A13 89 16 E006                      			mov	DS:[0e004H+2],DX
   994 00000A17 BE C000                         			mov	SI,4000H+8000H
   995 00000A1A 81 7C 40 4653                   			cmp	word     DS:[SI+40H],4653H
   996 00000A1F 75 0F                           			jne	.LL0000
   997 00000A21 81 7C 42 3631                   			cmp	word     DS:[SI+42H],3631H
   998 00000A26 75 08                           			jne	.LL0002
   999 00000A28 8B 44 48                        			mov	AX,DS:[SI+48H]
  1000 00000A2B 8B 54 4A                        			mov	DX,DS:[SI+4aH]
  1001 00000A2E EB 22                           			jmp	.skip0
  1002 00000A30                                 .LL0002:			
  1003 00000A30                                 .LL0000:			
  1004 00000A30 8A 44 13                        			mov	AL,DS:[SI+13H]
  1005 00000A33 8A 64 14                        			mov	AH,DS:[SI+14H]
  1006 00000A36 31 D2                           			xor	DX,DX
  1007 00000A38 85 C0                           			test	AX,AX
  1008 00000A3A 75 06                           			jne	.LL0004
  1009 00000A3C 8B 44 20                        			mov	AX,DS:[SI+20H]
  1010 00000A3F 8B 54 22                        			mov	DX,DS:[SI+22H]
  1011 00000A42                                 .LL0004:			
  1012 00000A42 8A 4C 0C                        			mov	CL,DS:[SI+0cH]
  1013 00000A45 C0 E9 02                        			shr	CL,2
  1014 00000A48 74 08                           			je	.LL0006
  1015 00000A4A                                 .LL0008:			
  1016 00000A4A 01 C0                           			add	AX,AX
  1017 00000A4C 11 D2                           			ADC	DX,DX
  1018 00000A4E D0 E9                           			shr	CL,1
  1019 00000A50 75 F8                           			jne	.LL0008
  1020 00000A52                                 .LL0009:			
  1021 00000A52                                 .LL0006:			
  1022 00000A52                                 .skip0:			
  1023 00000A52 81 FA 1000                      			cmp	DX,1000H
  1024 00000A56 0F 83 00B7                      			jae	.drive_err
  1025 00000A5A A3 E010                         			mov	DS:[0e010H+0],AX
  1026 00000A5D 89 16 E012                      			mov	DS:[0e010H+2],DX
  1027 00000A61 3B 06 E004                      			CMP	AX,DS:[0e004H+0]
  1028 00000A65 1B 16 E006                      			SBB	DX,DS:[0e004H+2]
  1029 00000A69 0F 82 00A4                      			jb	.drive_err
  1030 00000A6D 8B 1E EBFE                      			mov	BX,DS:[0ebfeH]
  1031 00000A71 B8 4200                         			mov	AX,4200H
  1032 00000A74 31 D2                           			xor	DX,DX
  1033 00000A76 31 C9                           			xor	CX,CX
  1034 00000A78 CD 21                           			INT	21H
  1035 00000A7A 0F 82 0090                      			jc	.file_err
  1036 00000A7E E8 FE59                         			call	near     read32k
  1037 00000A81 0F 82 0089                      			jc	.file_err
  1038 00000A85 BE 4000                         			mov	SI,4000H
  1039 00000A88 BB C000                         			mov	BX,4000H+8000H
  1040 00000A8B 81 7C 40 4653                   			cmp	word     DS:[SI+40H],4653H
  1041 00000A90 75 7C                           			jne	.file_err
  1042 00000A92 81 7C 42 3631                   			cmp	word     DS:[SI+42H],3631H
  1043 00000A97 75 75                           			jne	.file_err
  1044 00000A99 A1 E010                         			mov	AX,DS:[0e010H+0]
  1045 00000A9C 8B 16 E012                      			mov	DX,DS:[0e010H+2]
  1046 00000AA0 89 44 48                        			mov	DS:[SI+48H],AX
  1047 00000AA3 89 54 4A                        			mov	DS:[SI+4aH],DX
  1048 00000AA6 A3 A020                         			mov	DS:[4000H+6020H],AX
  1049 00000AA9 89 16 A022                      			mov	DS:[4000H+6022H],DX
  1050 00000AAD A3 A850                         			mov	DS:[4000H+6850H],AX
  1051 00000AB0 89 16 A852                      			mov	DS:[4000H+6852H],DX
  1052 00000AB4 A3 A860                         			mov	DS:[4000H+6860H],AX
  1053 00000AB7 89 16 A862                      			mov	DS:[4000H+6862H],DX
  1054 00000ABB 2D 0280                         			sub	AX,640
  1055 00000ABE 83 DA 00                        			SBB	DX,0
  1056 00000AC1 8A 4C 0D                        			mov	CL,DS:[SI+0dH]
  1057 00000AC4 30 ED                           			xor	CH,CH
  1058 00000AC6 39 CA                           			cmp	DX,CX
  1059 00000AC8 7D 07                           			jge	.skip1
  1060 00000ACA F7 F1                           			DIV	CX
  1061 00000ACC 3D FFEE                         			cmp	AX,0ffeeH
  1062 00000ACF 72 03                           			jb	.LL000A
  1063 00000AD1                                 .skip1:			
  1064 00000AD1 B8 FFEE                         			mov	AX,0ffeeH
  1065 00000AD4                                 .LL000A:			
  1066 00000AD4 05 0002                         			add	AX,2
  1067 00000AD7 89 44 44                        			mov	DS:[SI+44H],AX
  1068 00000ADA 8A 47 0C                        			mov	AL,DS:[BX+0cH]
  1069 00000ADD 88 44 0C                        			mov	DS:[SI+0cH],AL
  1070 00000AE0 C6 44 13 00                     			mov	byte     DS:[SI+13H],0
  1071 00000AE4 C6 44 14 00                     			mov	byte     DS:[SI+14H],0
  1072 00000AE8 8B 47 18                        			mov	AX,DS:[BX+18H]
  1073 00000AEB 8B 57 1A                        			mov	DX,DS:[BX+1aH]
  1074 00000AEE 89 44 18                        			mov	DS:[SI+18H],AX
  1075 00000AF1 89 54 1A                        			mov	DS:[SI+1aH],DX
  1076 00000AF4 8B 47 1C                        			mov	AX,DS:[BX+1cH]
  1077 00000AF7 8B 57 1E                        			mov	DX,DS:[BX+1eH]
  1078 00000AFA 89 44 1C                        			mov	DS:[SI+1cH],AX
  1079 00000AFD 89 54 1E                        			mov	DS:[SI+1eH],DX
  1080 00000B00 A3 A870                         			mov	DS:[4000H+6870H],AX
  1081 00000B03 89 16 A872                      			mov	DS:[4000H+6872H],DX
  1082 00000B07 8B 44 44                        			mov	AX,DS:[SI+44H]
  1083 00000B0A 2D 0002                         			sub	AX,2
  1084 00000B0D C3                              			RETN	
  1085 00000B0E                                 .file_err:			
  1086 00000B0E E9 F6A9                         JMP main.file_err
  1087 00000B11                                 .drive_err:			
  1088 00000B11 E9 F6AC                         JMP main.drive_err
  1089  = 00000000                              .local			equ	0
  1090 00000B14                                 				
  1091 00000B14                                 drvwrite32k:
  1092 00000B14 B8 0080                         			mov	AX,32*4
  1093 00000B17 F6 36 0DDD                      DIV BYTE [dat.seclen+1]
  1094 00000B1B 89 C1                           			mov	CX,AX
  1095 00000B1D A0 E000                         			mov	AL,DS:[0e000H]
  1096 00000B20 BB 4000                         			mov	BX,4000H
  1097 00000B23 52                              			PUSH	DX
  1098 00000B24 51                              			PUSH	CX
  1099 00000B25 CD 26                           			INT	26H
  1100 00000B27 58                              			POP	AX
  1101 00000B28 59                              			POP	CX
  1102 00000B29 5A                              			POP	DX
  1103 00000B2A 72 E5                           JC format_sub0.drive_err
  1104 00000B2C 01 CA                           			add	DX,CX
  1105 00000B2E C3                              			RETN	
  1106  = 00000000                              .local			equ	0
  1107 00000B2F                                 				
  1108 00000B2F                                 fake_fat:
  1109 00000B2F 52                              			PUSH	DX
  1110 00000B30 E8 FDA7                         			call	near     read32k
  1111 00000B33 5A                              			POP	DX
  1112 00000B34 8B 1E E010                      			mov	BX,DS:[0e010H]
  1113 00000B38 83 C3 02                        			add	BX,2
  1114 00000B3B B8 FFF7                         			mov	AX,0fff7H
  1115 00000B3E 01 DB                           			add	BX,BX
  1116 00000B40 81 C3 4000                      			add	BX,4000H
  1117 00000B44                                 .LL0000:			
  1118 00000B44 89 07                           			mov	DS:[BX],AX
  1119 00000B46 83 C3 02                        			add	BX,2
  1120 00000B49 81 FB C000                      			cmp	BX,4000H+8000H
  1121 00000B4D 72 F5                           			jb	.LL0000
  1122 00000B4F                                 .LL0001:			
  1123 00000B4F E8 FFC2                         			call	near     drvwrite32k
  1124 00000B52 52                              			PUSH	DX
  1125 00000B53 E8 FD84                         			call	near     read32k
  1126 00000B56 E8 FD81                         			call	near     read32k
  1127 00000B59 E8 FD7E                         			call	near     read32k
  1128 00000B5C 5A                              			POP	DX
  1129 00000B5D B8 FFF7                         			mov	AX,0fff7H
  1130 00000B60 BB 4000                         			mov	BX,4000H
  1131 00000B63                                 .LL0002:			
  1132 00000B63 89 07                           			mov	DS:[BX],AX
  1133 00000B65 83 C3 02                        			add	BX,2
  1134 00000B68 81 FB C000                      			cmp	BX,4000H+8000H
  1135 00000B6C 72 F5                           			jb	.LL0002
  1136 00000B6E                                 .LL0003:			
  1137 00000B6E E8 FFA3                         			call	near     drvwrite32k
  1138 00000B71 E8 FFA0                         			call	near     drvwrite32k
  1139 00000B74 EB 9E                           JMP drvwrite32k
  1140  = 00000000                              .local			equ	0
  1141 00000B76                                 				
  1142 00000B76                                 dat:
  1143 00000B76                                 .usage:			
  1144 00000B76 01                              			DB	1
  1145 00000B77 72 65 61 64 2E 20 20 20 3E 69   DB 'read.   >imgtol r [opt] drive: filename  size  (drv -> file)',0x0d,0x0a
       00000B81 6D 67 74 6F 6C 20 72 20 5B 6F 
       00000B8B 70 74 5D 20 64 72 69 76 65 3A 
       00000B95 20 66 69 6C 65 6E 61 6D 65 20 
       00000B9F 20 73 69 7A 65 20 20 28 64 72 
       00000BA9 76 20 2D 3E 20 66 69 6C 65 29 
       00000BB3 0D 0A 
  1146 00000BB5 77 72 69 74 65 2E 20 20 3E 69   DB 'write.  >imgtol w [opt] drive: filename [size] (file -> drv)',0x0d,0x0a
       00000BBF 6D 67 74 6F 6C 20 77 20 5B 6F 
       00000BC9 70 74 5D 20 64 72 69 76 65 3A 
       00000BD3 20 66 69 6C 65 6E 61 6D 65 20 
       00000BDD 5B 73 69 7A 65 5D 20 28 66 69 
       00000BE7 6C 65 20 2D 3E 20 64 72 76 29 
       00000BF1 0D 0A 
  1147 00000BF3 65 78 70 2D 77 2E 66 2E 3E 69   DB 'exp-w.f.>imgtol f [opt] drive: filename (file -> drv)',0x0d,0x0a
       00000BFD 6D 67 74 6F 6C 20 66 20 5B 6F 
       00000C07 70 74 5D 20 64 72 69 76 65 3A 
       00000C11 20 66 69 6C 65 6E 61 6D 65 20 
       00000C1B 28 66 69 6C 65 20 2D 3E 20 64 
       00000C25 72 76 29 0D 0A 
  1148 00000C2A 65 78 70 2D 77 2E 20 20 3E 69   DB 'exp-w.  >imgtol F [opt] drive: filename (file -> drv)',0x0d,0x0a
       00000C34 6D 67 74 6F 6C 20 46 20 5B 6F 
       00000C3E 70 74 5D 20 64 72 69 76 65 3A 
       00000C48 20 66 69 6C 65 6E 61 6D 65 20 
       00000C52 28 66 69 6C 65 20 2D 3E 20 64 
       00000C5C 72 76 29 0D 0A 
  1149 00000C61 6F 76 72 63 6F 70 79 2E 3E 69   DB 'ovrcopy.>imgtol c inputfile outputfile  [size]',0x0d,0x0a
       00000C6B 6D 67 74 6F 6C 20 63 20 69 6E 
       00000C75 70 75 74 66 69 6C 65 20 6F 75 
       00000C7F 74 70 75 74 66 69 6C 65 20 20 
       00000C89 5B 73 69 7A 65 5D 0D 0A 
  1150 00000C91 65 78 70 61 6E 64 2E 20 3E 69   DB 'expand. >imgtol e inputfile outputfile   size',0x0d,0x0a
       00000C9B 6D 67 74 6F 6C 20 65 20 69 6E 
       00000CA5 70 75 74 66 69 6C 65 20 6F 75 
       00000CAF 74 70 75 74 66 69 6C 65 20 20 
       00000CB9 20 73 69 7A 65 0D 0A 
  1151 00000CC0 72 65 6C 65 61 73 65 2E 3E 69   DB 'release.>imgtol R sourceimage compedimage',0x0d,0x0a
       00000CCA 6D 67 74 6F 6C 20 52 20 73 6F 
       00000CD4 75 72 63 65 69 6D 61 67 65 20 
       00000CDE 63 6F 6D 70 65 64 69 6D 61 67 
       00000CE8 65 0D 0A 
  1152 00000CEB 65 78 65 32 73 79 73 2E 3E 69   DB 'exe2sys.>imgtol s inputfile outputfile base(dec)',0x0d,0x0a
       00000CF5 6D 67 74 6F 6C 20 73 20 69 6E 
       00000CFF 70 75 74 66 69 6C 65 20 6F 75 
       00000D09 74 70 75 74 66 69 6C 65 20 62 
       00000D13 61 73 65 28 64 65 63 29 0D 0A 
  1153 00000D1D 20 20 6F 70 74 28 73 65 63 74   DB '  opt(sector-bytes) = -512(default), -1024',0x0d,0x0a
       00000D27 6F 72 2D 62 79 74 65 73 29 20 
       00000D31 3D 20 2D 35 31 32 28 64 65 66 
       00000D3B 61 75 6C 74 29 2C 20 2D 31 30 
       00000D45 32 34 0D 0A 
  1154 00000D49 20 20 73 69 7A 65 20 75 6E 69   DB '  size unit : kilobyte',0x0d,0x0a,'$'
       00000D53 74 20 3A 20 6B 69 6C 6F 62 79 
       00000D5D 74 65 0D 0A 24 
  1155 00000D62                                 .cmdlin_msg:			
  1156 00000D62 02 63 6F 6D 6D 61 6E 64 20 6C   DB 2,'command line error!',0x0d,0x0a,'$'
       00000D6C 69 6E 65 20 65 72 72 6F 72 21 
       00000D76 0D 0A 24 
  1157 00000D79                                 .file_msg:			
  1158 00000D79 03 66 69 6C 65 20 65 72 72 6F   DB 3,'file error!',0x0d,0x0a,'$'
       00000D83 72 21 0D 0A 24 
  1159 00000D88                                 .drive_msg:			
  1160 00000D88 04 64 72 69 76 65 20 65 72 72   DB 4,'drive error!',0x0d,0x0a,'$'
       00000D92 6F 72 21 0D 0A 24 
  1161 00000D98                                 .infile_msg:			
  1162 00000D98 05 69 6E 70 75 74 66 69 6C 65   DB 5,'inputfile error!',0x0d,0x0a,'$'
       00000DA2 20 65 72 72 6F 72 21 0D 0A 24 
  1163 00000DAC                                 .outfile_msg:			
  1164 00000DAC 06 6F 75 74 70 75 74 66 69 6C   DB 6,'outputfile error!',0x0d,0x0a,'$'
       00000DB6 65 20 65 72 72 6F 72 21 0D 0A 
       00000DC0 24 
  1165 00000DC1                                 .size_msg:			
  1166 00000DC1 07 76 6F 6C 75 6D 65 20 73 69   DB 7,'volume size error!',0x0d,0x0a,'$'
       00000DCB 7A 65 20 65 72 72 6F 72 21 0D 
       00000DD5 0A 24 
  1167 00000DD7 00                              			ALIGNB	2
  1168 00000DD8                                 .size:				
  1169 00000DD8 FFFF                            			DW	0ffffH
  1170 00000DDA                                 .clulen:			
  1171 00000DDA 0200                            			DW	512
  1172 00000DDC                                 .seclen:			
  1173 00000DDC 0200                            			DW	512
  1174  = 00000000                              .local			equ	0
  1175 00000DDE                                 
